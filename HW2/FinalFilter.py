import csv
import matplotlib.pyplot as plt
import numpy as np

dataset = 3
weights = []
t = [] # column 0
data1 = [] # column 1
data_ma_filter = []
data_lp_filter = []


#A: 1000 | B: 200 | C: 1 | D: 10
X = 10


openstring = ''
if dataset == 0:
    openstring = 'sigA.csv'
    weights = [
        0.000000000000000000,
        0.000012347243034740,
        0.000057308831182926,
        0.000148545952209886,
        0.000302531394945760,
        0.000538886615189083,
        0.000880394673581993,
        0.001352624358095276,
        0.001983132099466800,
        0.002800244763340094,
        0.003831465158536918,
        0.005101579939023343,
        0.006630583259642305,
        0.008431556061791166,
        0.010508657686084706,
        0.012855391808453364,
        0.015453301518355089,
        0.018271228717903792,
        0.021265241928076412,
        0.024379295989767236,
        0.027546639794738335,
        0.030691937430026722,
        0.033734017676776508,
        0.036589120446393779,
        0.039174470013177580,
        0.041411976857166501,
        0.043231854858479399,
        0.044575939842745639,
        0.045400509371561280,
        0.045678431420506690,
        0.045400509371561287,
        0.044575939842745639,
        0.043231854858479399,
        0.041411976857166494,
        0.039174470013177573,
        0.036589120446393793,
        0.033734017676776529,
        0.030691937430026718,
        0.027546639794738339,
        0.024379295989767256,
        0.021265241928076418,
        0.018271228717903803,
        0.015453301518355089,
        0.012855391808453376,
        0.010508657686084721,
        0.008431556061791169,
        0.006630583259642314,
        0.005101579939023349,
        0.003831465158536915,
        0.002800244763340097,
        0.001983132099466800,
        0.001352624358095275,
        0.000880394673581993,
        0.000538886615189083,
        0.000302531394945760,
        0.000148545952209886,
        0.000057308831182926,
        0.000012347243034741,
        0.000000000000000000,
    ]
if dataset == 1:
    openstring = 'sigB.csv'
    weights = [
        0.000000000000000000,
        0.000025695329810175,
        0.000109001586731170,
        0.000261383834469497,
        0.000497284187006939,
        0.000834034055775751,
        0.001291444409523049,
        0.001891070645768172,
        0.002655173095064218,
        0.003605418278370958,
        0.004761388110941483,
        0.006138982684280024,
        0.007748815659053334,
        0.009594708572398906,
        0.011672390798343837,
        0.013968505240990876,
        0.016460006299700354,
        0.019114016903342568,
        0.021888186575993940,
        0.024731564041054279,
        0.027585967536853457,
        0.030387805705078649,
        0.033070273559075526,
        0.035565823484471772,
        0.037808792095928072,
        0.039738051371860414,
        0.041299547699896848,
        0.042448595699213505,
        0.043151804843812071,
        0.043388535390380012,
        0.043151804843812071,
        0.042448595699213505,
        0.041299547699896848,
        0.039738051371860407,
        0.037808792095928072,
        0.035565823484471785,
        0.033070273559075540,
        0.030387805705078645,
        0.027585967536853467,
        0.024731564041054296,
        0.021888186575993951,
        0.019114016903342579,
        0.016460006299700354,
        0.013968505240990888,
        0.011672390798343854,
        0.009594708572398910,
        0.007748815659053343,
        0.006138982684280031,
        0.004761388110941479,
        0.003605418278370963,
        0.002655173095064218,
        0.001891070645768171,
        0.001291444409523047,
        0.000834034055775751,
        0.000497284187006940,
        0.000261383834469497,
        0.000109001586731170,
        0.000025695329810175,
        0.000000000000000000,
    ]
if dataset == 2:
    openstring = 'sigC.csv'
    weights = [
        0.000000000000000000,
        0.000025695329810175,
        0.000109001586731170,
        0.000261383834469497,
        0.000497284187006939,
        0.000834034055775751,
        0.001291444409523049,
        0.001891070645768172,
        0.002655173095064218,
        0.003605418278370958,
        0.004761388110941483,
        0.006138982684280024,
        0.007748815659053334,
        0.009594708572398906,
        0.011672390798343837,
        0.013968505240990876,
        0.016460006299700354,
        0.019114016903342568,
        0.021888186575993940,
        0.024731564041054279,
        0.027585967536853457,
        0.030387805705078649,
        0.033070273559075526,
        0.035565823484471772,
        0.037808792095928072,
        0.039738051371860414,
        0.041299547699896848,
        0.042448595699213505,
        0.043151804843812071,
        0.043388535390380012,
        0.043151804843812071,
        0.042448595699213505,
        0.041299547699896848,
        0.039738051371860407,
        0.037808792095928072,
        0.035565823484471785,
        0.033070273559075540,
        0.030387805705078645,
        0.027585967536853467,
        0.024731564041054296,
        0.021888186575993951,
        0.019114016903342579,
        0.016460006299700354,
        0.013968505240990888,
        0.011672390798343854,
        0.009594708572398910,
        0.007748815659053343,
        0.006138982684280031,
        0.004761388110941479,
        0.003605418278370963,
        0.002655173095064218,
        0.001891070645768171,
        0.001291444409523047,
        0.000834034055775751,
        0.000497284187006940,
        0.000261383834469497,
        0.000109001586731170,
        0.000025695329810175,
        0.000000000000000000,
    ]
if dataset == 3:
    openstring = 'sigD.csv'
    weights = [
        0.000000000000000000,
        0.000000000000000000,
        0.000035812961723300,
        0.000120731571549263,
        0.000162096617757613,
        0.000000000000000000,
        -0.000424309871012120,
        -0.000887469727062076,
        -0.000893563103514162,
        0.000000000000000001,
        0.001669261312943331,
        0.003127628293894955,
        0.002882361914612982,
        -0.000000000000000003,
        -0.004702962097430291,
        -0.008357071719965949,
        -0.007360214356243054,
        0.000000000000000005,
        0.011193107669197032,
        0.019396224336967579,
        0.016781589636098139,
        -0.000000000000000007,
        -0.025317601285088736,
        -0.044537146246886088,
        -0.039882258351834024,
        0.000000000000000009,
        0.071843638288791839,
        0.156128211350465118,
        0.224013500362330836,
        0.250016864885408807,
        0.224013500362330864,
        0.156128211350465118,
        0.071843638288791839,
        0.000000000000000009,
        -0.039882258351834017,
        -0.044537146246886108,
        -0.025317601285088746,
        -0.000000000000000007,
        0.016781589636098146,
        0.019396224336967593,
        0.011193107669197035,
        0.000000000000000005,
        -0.007360214356243054,
        -0.008357071719965957,
        -0.004702962097430298,
        -0.000000000000000003,
        0.002882361914612986,
        0.003127628293894959,
        0.001669261312943330,
        0.000000000000000001,
        -0.000893563103514161,
        -0.000887469727062075,
        -0.000424309871012119,
        0.000000000000000000,
        0.000162096617757613,
        0.000120731571549263,
        0.000035812961723300,
        0.000000000000000000,
        0.000000000000000000,
    ]


with open(openstring) as f:
    # open the csv file
    reader = csv.reader(f)
    for row in reader:
        # read the rows 1 one by one
        t.append(float(row[0])) # leftmost column
        data1.append(float(row[1])) # second column

for i in range(len(data1)):
    sum = 0
    for k in range(len(weights)):
        j = len(data1)-i-k-1

        if j >= 0:
            sum+=data1[j]*weights[len(weights)-k-1]
        else:
            sum+=0
    data_ma_filter.insert(0,sum)


plt.plot(t,data1,'black') # plotting the fft
# plt.plot(t,data_ma_filter,'r')
plt.plot(t,data_ma_filter,'r')

plt.xlabel('Time')
plt.ylabel('Amplitude')

plt.show()

